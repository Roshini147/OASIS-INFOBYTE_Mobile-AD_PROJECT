import gradio as gr
class CalculatorEngine:
    
  
    @staticmethod
    def add(num1, num2):
        """Addition operation"""
        return num1 + num2
    
    @staticmethod
    def subtract(num1, num2):
        """Subtraction operation"""
        return num1 - num2
    
    @staticmethod
    def multiply(num1, num2):
        """Multiplication operation"""
        return num1 * num2
    
    @staticmethod
    def divide(num1, num2):
        """Division operation with zero division handling"""
        if num2 == 0:
            raise ValueError("Cannot divide by zero")
        return num1 / num2
    
    @staticmethod
    def calculate(num1, num2, operation):
        """
        Main calculation method - routes to appropriate operation
        Similar to switch-case in Java
        """
        try:
           
            if num1 is None or num2 is None:
                return "âš ï¸ Error: Please enter both numbers"
            
            
            n1 = float(num1)
            n2 = float(num2)
            
            
            if operation == "Addition (+)":
                result = CalculatorEngine.add(n1, n2)
                operator = "+"
            elif operation == "Subtraction (âˆ’)":
                result = CalculatorEngine.subtract(n1, n2)
                operator = "âˆ’"
            elif operation == "Multiplication (Ã—)":
                result = CalculatorEngine.multiply(n1, n2)
                operator = "Ã—"
            elif operation == "Division (Ã·)":
                result = CalculatorEngine.divide(n1, n2)
                operator = "Ã·"
            else:
                return "âš ï¸ Error: Invalid operation selected"
            
            
            return f"""
âœ¨ CALCULATION RESULT
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“Š {n1} {operator} {n2} = {result}
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
            """
            
        except ValueError as e:
            return f"âš ï¸ Error: {str(e)}"
        except Exception as e:
            return f"âš ï¸ Error: Invalid input - {str(e)}"




def create_calculator_ui():
    """
    Creates mobile-style calculator interface
    Simulates Android XML layout design
    """
    
    
    custom_css = """
    .gradio-container {
        max-width: 450px !important;
        margin: auto !important;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
        padding: 20px !important;
        border-radius: 20px !important;
    }
    
    .app-title {
        text-align: center;
        color: white;
        font-size: 32px;
        font-weight: bold;
        margin-bottom: 10px;
        text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
    }
    
    .app-subtitle {
        text-align: center;
        color: rgba(255,255,255,0.9);
        font-size: 14px;
        margin-bottom: 20px;
    }
    
    #result_box {
        background: white !important;
        border-radius: 15px !important;
        padding: 20px !important;
        font-size: 16px !important;
        font-weight: 600 !important;
        color: #2d3748 !important;
        box-shadow: 0 4px 6px rgba(0,0,0,0.1) !important;
        min-height: 120px !important;
    }
    
    .input-box input {
        font-size: 18px !important;
        font-weight: 600 !important;
        text-align: center !important;
        border-radius: 10px !important;
        border: 2px solid #667eea !important;
    }
    
    button {
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%) !important;
        border: none !important;
        border-radius: 12px !important;
        font-size: 18px !important;
        font-weight: bold !important;
        color: white !important;
        padding: 15px !important;
        box-shadow: 0 4px 15px rgba(245, 87, 108, 0.4) !important;
        transition: transform 0.2s !important;
    }
    
    button:hover {
        transform: translateY(-2px) !important;
        box-shadow: 0 6px 20px rgba(245, 87, 108, 0.6) !important;
    }
    """
    
    with gr.Blocks(css=custom_css, title="Calculator") as app:
        
        
        gr.HTML("""
            <div class="app-title">ğŸ§® Calculator</div>
            <div class="app-subtitle">Mobile App Development Internship Project</div>
        """)
        
        with gr.Column(elem_classes="calculator-body"):
            
            
            with gr.Group():
                gr.Markdown("### ğŸ“ Enter Numbers")
                
                with gr.Row():
                    num1_input = gr.Number(
                        label="First Number",
                        placeholder="Enter first number",
                        elem_classes="input-box"
                    )
                    num2_input = gr.Number(
                        label="Second Number", 
                        placeholder="Enter second number",
                        elem_classes="input-box"
                    )
            
            
            with gr.Group():
                gr.Markdown("### âš™ï¸ Select Operation")
                operation_selector = gr.Radio(
                    choices=[
                        "Addition (+)",
                        "Subtraction (âˆ’)",
                        "Multiplication (Ã—)",
                        "Division (Ã·)"
                    ],
                    value="Addition (+)",
                    label="Choose Operation",
                    interactive=True
                )
            
            
            calculate_btn = gr.Button(
                "ğŸš€ Calculate Result",
                variant="primary",
                size="lg"
            )
            
            
            with gr.Group():
                gr.Markdown("### ğŸ“Š Result")
                result_output = gr.Textbox(
                    label="",
                    placeholder="Your result will appear here...",
                    lines=5,
                    interactive=False,
                    elem_id="result_box"
                )
        
        
        gr.HTML("""
            <div style='text-align: center; margin-top: 20px; color: white; font-size: 12px;'>
                Developed with â¤ï¸ for Mobile App Development Internship
            </div>
        """)
        
        
        calculate_btn.click(
            fn=CalculatorEngine.calculate,
            inputs=[num1_input, num2_input, operation_selector],
            outputs=result_output
        )
    
    return app



if __name__ == "__main__":
    print("=" * 50)
    print("ğŸš€ CALCULATOR APPLICATION - MOBILE PROTOTYPE")
    print("=" * 50)
    print("ğŸ“± Launching mobile-style calculator interface...")
    print("ğŸŒ Generating shareable link...")
    print("=" * 50)
    
   
    calculator_app = create_calculator_ui()
    
    
    calculator_app.launch(
        share=True,
        show_error=True,
        quiet=False
    )
    
    print("âœ… Calculator app is now running!")
    print("ğŸ”— Use the public link above to access your calculator")
    print("=" * 50)
